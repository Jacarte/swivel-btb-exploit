
# while true execute make
echo "" > results_leakage.txt
while true
do  
    make clean
    make copycode.so

    echo "================================== NEW VARIANT LEAKAGE ================================== "
    echo "================================== NEW VARIANT ================================== " >> results_leakage.txt

    make stock/btb_leakage.so >> results_leakage.txt || break # will break if the pool folder is empty
    { timeout --foreground 120 time ./gdb.sh leakage stock/ >> results_leakage.txt;} 2>> results_leakage.txt
    echo "================================== DONE ================================== "
    echo "================================== DONE ================================== " >> results_leakage.txt
done


# while true execute make
echo "" > results_breakout.txt
while true
do  
    make clean
    make copycode.so

    echo "================================== NEW VARIANT BREAKOUT ================================== "
    echo "================================== NEW VARIANT ================================== " >> results_breakout.txt

    make stock/btb_breakout.so >> results_breakout.txt || break # will break if the pool folder is empty
    { timeout --foreground 120 time ./gdb.sh breakout stock/ >> results_breakout.txt;} 2>> results_breakout.txt
    echo "================================== DONE ================================== "
    echo "================================== DONE ================================== " >> results_breakout.txt
done
